<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Thomas Feldmann" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Filters - organize</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Filters";
        var mkdocs_page_input_path = "filters.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> organize
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../updating-from-v1/">Updating from organize v1.x</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../configuration/">Configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../rules/">Rules</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../locations/">Locations</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Filters</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#-how-to-exclude-filters-">- How to exclude filters -</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#created">created</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#date_added">date_added</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#date_lastused">date_lastused</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#duplicate">duplicate</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#empty">empty</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#exif">exif</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#extension">extension</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#filecontent">filecontent</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#hash">hash</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#lastmodified">lastmodified</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#macos_tags">macos_tags</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#mimetype">mimetype</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#name">name</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#python">python</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#regex">regex</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#size">size</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../actions/">Actions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../changelog/">Changelog</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">organize</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Filters</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/tfeldmann/organize/edit/main/docs/filters.md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="filters">Filters<a class="headerlink" href="#filters" title="Permanent link">#</a></h1>
<p>This page shows the specifics of each filter.</p>
<h2 id="-how-to-exclude-filters-">- How to exclude filters -<a class="headerlink" href="#-how-to-exclude-filters-" title="Permanent link">#</a></h2>
<p>To exclude a filter, prefix the filter name with <strong>not</strong> (e.g. <code>"not empty"</code>,
<code>"not extension": jpg</code>, etc).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to exclude all filters you can set the rule's <code>filter_mode</code> to <code>none</code>.</p>
</div>
<p>Example:</p>
<pre><code class="language-yaml">rules:
  # using filter_mode
  - locations: ~/Desktop
    filter_mode: &quot;none&quot; # &lt;- excludes all
    filters:
      - empty
      - name:
          endswith: &quot;2022&quot;
    actions:
      - echo: &quot;{name}&quot;

  # Exclude a single filter
  - locations: ~/Desktop
    filters:
      - not extension: jpg # &lt;- matches all non-jpgs
      - name:
          startswith: &quot;Invoice&quot;
      - not empty # &lt;- matches files with content
    actions:
      - echo: &quot;{name}&quot;
</code></pre>
<h2 id="created">created<a class="headerlink" href="#created" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Matches files / folders by created date</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>years</strong> (<code>int</code>) – specify number of years</p></li>
            <li><p><strong>months</strong> (<code>int</code>) – specify number of months</p></li>
            <li><p><strong>weeks</strong> (<code>float</code>) – specify number of weeks</p></li>
            <li><p><strong>days</strong> (<code>float</code>) – specify number of days</p></li>
            <li><p><strong>hours</strong> (<code>float</code>) – specify number of hours</p></li>
            <li><p><strong>minutes</strong> (<code>float</code>) – specify number of minutes</p></li>
            <li><p><strong>seconds</strong> (<code>float</code>) – specify number of seconds</p></li>
            <li><p><strong>mode</strong> (<code>str</code>) – either 'older' or 'newer'. 'older' matches files / folders created before the given
time, 'newer' matches files / folders created within the given time.
(default = 'older')</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
    <th class="field-name">Returns:</th>
    <td class="field-body">
        <ul class="first simple">
          <li><p><code>{created}</code> – The datetime the file / folder was created.</p></li>
        </ul>
    </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>

<p><strong>Examples:</strong></p>
<p>Show all files on your desktop created at least 10 days ago</p>
<pre><code class="language-yaml">rules:
  - name: Show all files on your desktop created at least 10 days ago
    locations: &quot;~/Desktop&quot;
    filters:
      - created:
          days: 10
    actions:
      - echo: &quot;Was created at least 10 days ago&quot;
</code></pre>
<p>Show all files on your desktop which were created within the last 5 hours</p>
<pre><code class="language-yaml">rules:
  - name: Show all files on your desktop which were created within the last 5 hours
    locations: &quot;~/Desktop&quot;
    filters:
      - created:
          hours: 5
          mode: newer
    actions:
      - echo: &quot;Was created within the last 5 hours&quot;
</code></pre>
<p>Sort pdfs by year of creation</p>
<pre><code class="language-yaml">rules:
  - name: Sort pdfs by year of creation
    locations: &quot;~/Documents&quot;
    filters:
      - extension: pdf
      - created
    actions:
      - move: &quot;~/Documents/PDF/{created.year}/&quot;
</code></pre>
<p>Formatting the creation date</p>
<pre><code class="language-yaml">rules:
  - name: Display the creation date
    locations: &quot;~/Documents&quot;
    filters:
      - extension: pdf
      - created
    actions:
      - echo: &quot;ISO Format:   {created.strftime('%Y-%m-%d')}&quot;
      - echo: &quot;As timestamp: {created.timestamp() | int}&quot;
</code></pre>
<h2 id="date_added">date_added<a class="headerlink" href="#date_added" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Matches files by the time the file was added to a folder.</p>
<p><strong><code>date_added</code> is only available on macOS!</strong></p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>years</strong> (<code>int</code>) – specify number of years</p></li>
            <li><p><strong>months</strong> (<code>int</code>) – specify number of months</p></li>
            <li><p><strong>weeks</strong> (<code>float</code>) – specify number of weeks</p></li>
            <li><p><strong>days</strong> (<code>float</code>) – specify number of days</p></li>
            <li><p><strong>hours</strong> (<code>float</code>) – specify number of hours</p></li>
            <li><p><strong>minutes</strong> (<code>float</code>) – specify number of minutes</p></li>
            <li><p><strong>seconds</strong> (<code>float</code>) – specify number of seconds</p></li>
            <li><p><strong>mode</strong> (<code>str</code>) – either 'older' or 'newer'. 'older' matches files / folders last modified before
the given time, 'newer' matches files / folders last modified within the given
time. (default = 'older')</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
    <th class="field-name">Returns:</th>
    <td class="field-body">
        <ul class="first simple">
          <li><p><code>{date_added}</code> – The datetime the files / folders were added.</p></li>
        </ul>
    </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>

<p>Works the same way as <a href="#created"><code>created</code></a> and <a href="#lastmodified"><code>lastmodified</code></a>.</p>
<p><strong> Examples </strong></p>
<pre><code class="language-yaml">rules:
  - name: Show the date the file was added to the folder
    locations: &quot;~/Desktop&quot;
    filters:
      - date_added
    actions:
      - echo: &quot;Date added: {date_added.strftime('%Y-%m-%d')}&quot;
</code></pre>
<h2 id="date_lastused">date_lastused<a class="headerlink" href="#date_lastused" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Matches files by the time the file was last used.</p>
<p><strong><code>date_lastused</code> is only available on macOS!</strong></p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>years</strong> (<code>int</code>) – specify number of years</p></li>
            <li><p><strong>months</strong> (<code>int</code>) – specify number of months</p></li>
            <li><p><strong>weeks</strong> (<code>float</code>) – specify number of weeks</p></li>
            <li><p><strong>days</strong> (<code>float</code>) – specify number of days</p></li>
            <li><p><strong>hours</strong> (<code>float</code>) – specify number of hours</p></li>
            <li><p><strong>minutes</strong> (<code>float</code>) – specify number of minutes</p></li>
            <li><p><strong>seconds</strong> (<code>float</code>) – specify number of seconds</p></li>
            <li><p><strong>mode</strong> (<code>str</code>) – either 'older' or 'newer'. 'older' matches files / folders last used before
the given time, 'newer' matches files / folders last used within the given
time. (default = 'older')</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
    <th class="field-name">Returns:</th>
    <td class="field-body">
        <ul class="first simple">
          <li><p><code>{date_lastused}</code> – The datetime the files / folders were added.</p></li>
        </ul>
    </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>

<p>Works the same way as <a href="#created"><code>created</code></a> and <a href="#lastmodified"><code>lastmodified</code></a>.</p>
<p><strong> Examples </strong></p>
<pre><code class="language-yaml">rules:
  - name: Show the date the file was added to the folder
    locations: &quot;~/Desktop&quot;
    filters:
      - date_lastused
    actions:
      - echo: &quot;Date last used: {date_lastused.strftime('%Y-%m-%d')}&quot;
</code></pre>
<h2 id="duplicate">duplicate<a class="headerlink" href="#duplicate" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>A fast duplicate file finder.</p>
<p>This filter compares files byte by byte and finds identical files with potentially
different filenames.</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>detect_original_by</strong> (<code>str</code>) – Detection method to distinguish between original and duplicate.
Possible values are:</p>
<ul>
<li><code>"first_seen"</code>: Whatever file is visited first is the original. This
  depends on the order of your location entries.</li>
<li><code>"name"</code>: The first entry sorted by name is the original.</li>
<li><code>"created"</code>: The first entry sorted by creation date is the original.</li>
<li><code>"lastmodified"</code>: The first file sorted by date of last modification is the original.</li>
</ul></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>      <p>You can reverse the sorting method by prefixing a <code>-</code>.</p>
<p>So with <code>detect_original_by: "-created"</code> the file with the older creation date is
the original and the younger file is the duplicate. This works on all methods, for
example <code>"-first_seen"</code>, <code>"-name"</code>, <code>"-created"</code>, <code>"-lastmodified"</code>.</p>
<p><strong>Returns:</strong></p>
<p><code>{duplicate.original}</code> - The path to the original</p>



    </div>

  </div>

<p><strong>Examples:</strong></p>
<p>Show all duplicate files in your desktop and download folder (and their subfolders)</p>
<pre><code class="language-yaml">rules:
  - name: Show all duplicate files in your desktop and download folder (and their subfolders)
    locations:
      - ~/Desktop
      - ~/Downloads
    subfolders: true
    filters:
      - duplicate
    actions:
      - echo: &quot;{path} is a duplicate of {duplicate.original}&quot;
</code></pre>
<p>Check for duplicated files between Desktop and a Zip file, select original by creation date</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Check for duplicated files between Desktop and a Zip file, select original by creation date&quot;
    locations:
      - ~/Desktop
      - zip://~/Desktop/backup.zip
    filters:
      - duplicate:
          detect_original_by: &quot;created&quot;
    actions:
      - echo: &quot;Duplicate found!&quot;
</code></pre>
<h2 id="empty">empty<a class="headerlink" href="#empty" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Finds empty dirs and files</p>



    </div>

  </div>

<p><strong>Examples:</strong></p>
<p>Recursively delete empty folders</p>
<pre><code class="language-yaml">rules:
  - targets: dirs
    locations:
      - path: ~/Desktop
        max_depth: null
    filters:
      - empty
    actions:
      - delete
</code></pre>
<h2 id="exif">exif<a class="headerlink" href="#exif" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Filter by image EXIF data</p>
<p>The <code>exif</code> filter can be used as a filter as well as a way to get exif information
into your actions.</p>
<p>:returns:
    <code>{exif}</code> -- a dict of all the collected exif inforamtion available in the
    file. Typically it consists of the following tags (if present in the file):</p>
<pre><code>- ``{exif.image}`` -- information related to the main image
- ``{exif.exif}`` -- Exif information
- ``{exif.gps}`` -- GPS information
- ``{exif.interoperability}`` -- Interoperability information
</code></pre>



    </div>

  </div>

<p>Show available EXIF data of your pictures</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Show available EXIF data of your pictures&quot;
    locations:
      - path: ~/Pictures
        max_depth: null
    filters:
      - exif
    actions:
      - echo: &quot;{exif}&quot;
</code></pre>
<p>Copy all images which contain GPS information while keeping subfolder structure:</p>
<pre><code class="language-yaml">rules:
  - name: &quot;GPS demo&quot;
    locations:
      - path: ~/Pictures
        max_depth: null
    filters:
      - exif: gps.gpsdate
    actions:
      - copy: ~/Pictures/with_gps/{relative_path}/
</code></pre>
<p>Filter by camera manufacturer</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Filter by camera manufacturer&quot;
    locations:
      - path: ~/Pictures
        max_depth: null
    filters:
      - exif:
          image.model: Nikon D3200
    actions:
      - move: &quot;~/Pictures/My old Nikon/&quot;
</code></pre>
<p>Sort images by camera manufacturer. This will create folders for each camera model
(for example "Nikon D3200", "iPhone 6s", "iPhone 5s", "DMC-GX80") and move the pictures
accordingly:</p>
<pre><code class="language-yaml">rules:
  - name: &quot;camera sort&quot;
    locations:
      - path: ~/Pictures
        max_depth: null
    filters:
      - extension: jpg
      - exif: image.model
    actions:
      - move: &quot;~/Pictures/{exif.image.model}/&quot;
</code></pre>
<h2 id="extension">extension<a class="headerlink" href="#extension" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Filter by file extension</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>*extensions</strong> (<code>list(str) or str</code>) – The file extensions to match (does not need to start with a colon).</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>      <p><strong>Returns:</strong></p>
<ul>
<li><code>{extension}</code>: the original file extension (without colon)</li>
</ul>



    </div>

  </div>

<p><strong>Examples:</strong></p>
<p>Match a single file extension</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Match a single file extension&quot;
    locations: &quot;~/Desktop&quot;
    filters:
      - extension: png
    actions:
      - echo: &quot;Found PNG file: {path}&quot;
</code></pre>
<p>Match multiple file extensions</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Match multiple file extensions&quot;
    locations: &quot;~/Desktop&quot;
    filters:
      - extension:
          - .jpg
          - jpeg
    actions:
      - echo: &quot;Found JPG file: {path}&quot;
</code></pre>
<p>Make all file extensions lowercase</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Make all file extensions lowercase&quot;
    locations: &quot;~/Desktop&quot;
    filters:
      - extension
    actions:
      - rename: &quot;{path.stem}.{extension.lower()}&quot;
</code></pre>
<p>Using extension lists (<a href="../rules/#advanced-aliases">yaml aliases</a></p>
<pre><code class="language-yaml">img_ext: &amp;img
  - png
  - jpg
  - tiff

audio_ext: &amp;audio
  - mp3
  - wav
  - ogg

rules:
  - name: &quot;Using extension lists&quot;
    locations: &quot;~/Desktop&quot;
    filters:
      - extension:
          - *img
          - *audio
    actions:
      - echo: &quot;Found media file: {path}&quot;
</code></pre>
<h2 id="filecontent">filecontent<a class="headerlink" href="#filecontent" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Matches file content with the given regular expression</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>expr</strong> (<code>str</code>) – The regular expression to be matched.</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>      <p>Any named groups (<code>(?P&lt;groupname&gt;.*)</code>) in your regular expression will
be returned like this:</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code>{filecontent.groupname}</code>: The text matched with the named group
  <code>(?P&lt;groupname&gt;)</code></li>
</ul>



    </div>

  </div>

<p><strong>Examples:</strong></p>
<p>Show the content of all your PDF files</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Show the content of all your PDF files&quot;
    locations: ~/Documents
    filters:
      - extension: pdf
      - filecontent
    actions:
      - echo: &quot;{filecontent}&quot;
</code></pre>
<p>Match an invoice with a regular expression and sort by customer</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Match an invoice with a regular expression and sort by customer&quot;
    locations: &quot;~/Desktop&quot;
    filters:
      - filecontent: 'Invoice.*Customer (?P&lt;customer&gt;\w+)'
    actions:
      - move: &quot;~/Documents/Invoices/{filecontent.customer}/&quot;
</code></pre>
<p>Exampe to filter the filename with respect to a valid date code.</p>
<p>The filename should start with <code>&lt;year&gt;-&lt;month&gt;-&lt;day&gt;</code>.</p>
<p>Regex:</p>
<ol>
<li>creates a placeholder variable containing the year</li>
<li>allows only years which start with 20 and are followed by 2 numbers</li>
<li>months can only have as first digit 0 or 1 and must be followed by a number</li>
<li>days can only have 0, 1,2 or 3 and must followed by number
   Note: Filter is not perfect but still.</li>
</ol>
<pre><code class="language-yaml">rules:
  - locations: ~/Desktop
    filters:
      - regex: '(?P&lt;year&gt;20\d{2})-[01]\d-[0123]\d.*'
    actions:
      - echo: &quot;Year: {regex.year}&quot;
</code></pre>
<h2 id="hash">hash<a class="headerlink" href="#hash" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Calculates the hash of a file.</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>algorithm</strong> (<code>str</code>) – Any hashing algorithm available to python's <code>hashlib</code>.
<code>md5</code> by default.</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>      <p>Algorithms guaranteed to be available are
<code>shake_256</code>, <code>sha3_256</code>, <code>sha1</code>, <code>sha3_224</code>, <code>sha384</code>, <code>sha512</code>, <code>blake2b</code>,
<code>blake2s</code>, <code>sha256</code>, <code>sha224</code>, <code>shake_128</code>, <code>sha3_512</code>, <code>sha3_384</code> and <code>md5</code>.</p>
<p>Depending on your python installation and installed libs there may be additional
hash algorithms to chose from.</p>
<p>To list the available algorithms on your installation run this in a python
interpreter:</p>
<pre><code class="language-py">&gt;&gt;&gt; import hashlib
&gt;&gt;&gt; hashlib.algorithms_available
{'shake_256', 'whirlpool', 'mdc2', 'blake2s', 'sha224', 'shake_128', 'sha3_512', 'sha3_224', 'sha384', 'md5', 'sha1', 'sha512_256', 'blake2b', 'sha256', 'sha512_224', 'ripemd160', 'sha3_384', 'md4', 'sm3', 'sha3_256', 'md5-sha1', 'sha512'}
</code></pre>
<p><strong>Returns:</strong></p>
<ul>
<li><code>{hash}</code>:  The hash of the file.</li>
</ul>



    </div>

  </div>

<p><strong>Examples:</strong></p>
<p>Show the hashes of your files:</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Show the hashes and size of your files&quot;
    locations: &quot;~/Desktop&quot;
    filters:
      - hash
      - size
    actions:
      - echo: &quot;{hash} {size.decimal}&quot;
</code></pre>
<h2 id="lastmodified">lastmodified<a class="headerlink" href="#lastmodified" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Matches files by last modified date</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>years</strong> (<code>int</code>) – specify number of years</p></li>
            <li><p><strong>months</strong> (<code>int</code>) – specify number of months</p></li>
            <li><p><strong>weeks</strong> (<code>float</code>) – specify number of weeks</p></li>
            <li><p><strong>days</strong> (<code>float</code>) – specify number of days</p></li>
            <li><p><strong>hours</strong> (<code>float</code>) – specify number of hours</p></li>
            <li><p><strong>minutes</strong> (<code>float</code>) – specify number of minutes</p></li>
            <li><p><strong>seconds</strong> (<code>float</code>) – specify number of seconds</p></li>
            <li><p><strong>mode</strong> (<code>str</code>) – either 'older' or 'newer'. 'older' matches files / folders last modified before
the given time, 'newer' matches files / folders last modified within the given
time. (default = 'older')</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
    <th class="field-name">Returns:</th>
    <td class="field-body">
        <ul class="first simple">
          <li><p><code>{lastmodified}</code> – The datetime the files / folders was lastmodified.</p></li>
        </ul>
    </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>

<p><strong>Examples:</strong></p>
<pre><code class="language-yaml">rules:
  - name: &quot;Show all files on your desktop last modified at least 10 days ago&quot;
    locations: &quot;~/Desktop&quot;
    filters:
      - lastmodified:
          days: 10
    actions:
      - echo: &quot;Was modified at least 10 days ago&quot;
</code></pre>
<p>Show all files on your desktop which were modified within the last 5 hours:</p>
<pre><code class="language-yaml">rules:
  - locations: &quot;~/Desktop&quot;
    filters:
      - lastmodified:
          hours: 5
          mode: newer
    actions:
      - echo: &quot;Was modified within the last 5 hours&quot;
</code></pre>
<p>Sort pdfs by year of last modification</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Sort pdfs by year of last modification&quot;
    locations: &quot;~/Documents&quot;
    filters:
      - extension: pdf
      - lastmodified
    actions:
      - move: &quot;~/Documents/PDF/{lastmodified.year}/&quot;
</code></pre>
<p>Formatting the last modified date</p>
<pre><code class="language-yaml">rules:
  - name: Formatting the lastmodified date
    locations: &quot;~/Documents&quot;
    filters:
      - extension: pdf
      - lastmodified
    actions:
      - echo: &quot;ISO Format:   {lastmodified.strftime('%Y-%m-%d')}&quot;
      - echo: &quot;As timestamp: {lastmodified.timestamp() | int}&quot;
</code></pre>
<h2 id="macos_tags">macos_tags<a class="headerlink" href="#macos_tags" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Filter by macOS tags</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>*tags</strong> (<code>list(str) or str</code>) – The tags to filter by</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>

<p><strong>Examples:</strong></p>
<pre><code class="language-yaml">rules:
  - name: &quot;Only files with a red macOS tag&quot;
    locations: &quot;~/Downloads&quot;
    filters:
      - macos_tags: &quot;* (red)&quot;
    actions:
      - echo: &quot;File with red tag&quot;
</code></pre>
<pre><code class="language-yaml">rules:
  - name: &quot;All files tagged 'Invoice' (any color)&quot;
    locations: &quot;~/Downloads&quot;
    filters:
      - macos_tags: &quot;Invoice (*)&quot;
    actions:
      - echo: &quot;Invoice found&quot;
</code></pre>
<pre><code class="language-yaml">rules:
  - name: &quot;All files with a tag 'Invoice' (any color) or with a green tag&quot;
    locations: &quot;~/Downloads&quot;
    filters:
      - macos_tags:
          - &quot;Invoice (*)&quot;
          - &quot;* (green)&quot;
    actions:
      - echo: &quot;Match found!&quot;
</code></pre>
<pre><code class="language-yaml">rules:
  - name: &quot;Listing file tags&quot;
    locations: &quot;~/Downloads&quot;
    filters:
      - macos_tags
    actions:
      - echo: &quot;{macos_tags}&quot;
</code></pre>
<h2 id="mimetype">mimetype<a class="headerlink" href="#mimetype" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Filter by MIME type associated with the file extension.</p>
<p>Supports a single string or list of MIME type strings as argument.
The types don't need to be fully specified, for example "audio" matches everything
from "audio/midi" to "audio/quicktime".</p>
<p>You can see a list of known MIME types on your system by running this oneliner:</p>
<pre><code class="language-sh">python3 -c &quot;import mimetypes as m; print('\n'.join(sorted(set(m.common_types.values()) | set(m.types_map.values()))))&quot;
</code></pre>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>*mimetypes</strong> (<code>list(str) or str</code>) – The MIME types to filter for.</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>      <p><strong>Returns:</strong></p>
<ul>
<li><code>{mimetype}</code>: The MIME type of the file.</li>
</ul>



    </div>

  </div>

<p><strong>Examples:</strong></p>
<p>Show MIME types</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Show MIME types&quot;
    locations: &quot;~/Downloads&quot;
    filters:
      - mimetype
    actions:
      - echo: &quot;{mimetype}&quot;
</code></pre>
<p>Filter by 'image' mimetype</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Filter by 'image' mimetype&quot;
    locations: &quot;~/Downloads&quot;
    filters:
      - mimetype: image
    actions:
      - echo: &quot;This file is an image: {mimetype}&quot;
</code></pre>
<p>Filter by specific MIME type</p>
<pre><code class="language-yaml">rules:
  - name: Filter by specific MIME type
    locations: &quot;~/Desktop&quot;
    filters:
      - mimetype: application/pdf
    actions:
      - echo: &quot;Found a PDF file&quot;
</code></pre>
<p>Filter by multiple specific MIME types</p>
<pre><code class="language-yaml">rules:
  - name: Filter by multiple specific MIME types
    locations: &quot;~/Music&quot;
    filters:
      - mimetype:
          - application/pdf
          - audio/midi
    actions:
      - echo: &quot;Found Midi or PDF.&quot;
</code></pre>
<h2 id="name">name<a class="headerlink" href="#name" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Match files and folders by name</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>match</strong> (<code>str</code>) – A matching string in <a href="https://github.com/tfeldmann/simplematch">simplematch-syntax</a></p></li>
            <li><p><strong>startswith</strong> (<code>str</code>) – The filename must begin with the given string</p></li>
            <li><p><strong>contains</strong> (<code>str</code>) – The filename must contain the given string</p></li>
            <li><p><strong>endswith</strong> (<code>str</code>) – The filename (without extension) must end with the given string</p></li>
            <li><p><strong>case_sensitive</strong> (<code>bool</code>) – By default, the matching is case sensitive. Change this to False to use
case insensitive matching.</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>

<p><strong>Examples:</strong></p>
<p>Match all files starting with 'Invoice':</p>
<pre><code class="language-yaml">rules:
  - locations: &quot;~/Desktop&quot;
    filters:
      - name:
          startswith: Invoice
    actions:
      - echo: &quot;This is an invoice&quot;
</code></pre>
<p>Match all files starting with 'A' end containing the string 'hole'
(case insensitive):</p>
<pre><code class="language-yaml">rules:
  - locations: &quot;~/Desktop&quot;
    filters:
      - name:
          startswith: A
          contains: hole
          case_sensitive: false
    actions:
      - echo: &quot;Found a match.&quot;
</code></pre>
<p>Match all files starting with 'A' or 'B' containing '5' or '6' and ending with
'_end':</p>
<pre><code class="language-yaml">rules:
  - locations: &quot;~/Desktop&quot;
    filters:
      - name:
          startswith:
            - &quot;A&quot;
            - &quot;B&quot;
          contains:
            - &quot;5&quot;
            - &quot;6&quot;
          endswith: _end
          case_sensitive: false
    actions:
      - echo: &quot;Found a match.&quot;
</code></pre>
<h2 id="python">python<a class="headerlink" href="#python" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Use python code to filter files.</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>code</strong> (<code>str</code>) – The python code to execute. The code must contain a <code>return</code> statement.</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>      <p><strong>Returns:</strong></p>
<ul>
<li>If your code returns <code>False</code> or <code>None</code> the file is filtered out,
    otherwise the file is passed on to the next filters.</li>
<li><code>{python}</code> contains the returned value. If you return a dictionary (for
    example <code>return {"some_key": some_value, "nested": {"k": 2}}</code>) it will be
    accessible via dot syntax in your actions: <code>{python.some_key}</code>,
    <code>{python.nested.k}</code>.</li>
</ul>



    </div>

  </div>

<p><strong>Examples:</strong></p>
<pre><code class="language-yaml">rules:
  - name: A file name reverser.
    locations: ~/Documents
    filters:
      - extension
      - python: |
          return {&quot;reversed_name&quot;: path.stem[::-1]}
    actions:
      - rename: &quot;{python.reversed_name}.{extension}&quot;
</code></pre>
<p>A filter for odd student numbers. Assuming the folder <code>~/Students</code> contains
the files <code>student-01.jpg</code>, <code>student-01.txt</code>, <code>student-02.txt</code> and
<code>student-03.txt</code> this rule will print
<code>"Odd student numbers: student-01.txt"</code> and
<code>"Odd student numbers: student-03.txt"</code></p>
<pre><code class="language-yaml">rules:
  - name: &quot;Filter odd student numbers&quot;
    locations: ~/Students/
    filters:
      - python: |
          return int(path.stem.split('-')[1]) % 2 == 1
    actions:
      - echo: &quot;Odd student numbers: {path.name}&quot;
</code></pre>
<p>Advanced usecase. You can access data from previous filters in your python code.
This can be used to match files and capturing names with a regular expression
and then renaming the files with the output of your python script.</p>
<pre><code class="language-yaml">rules:
  - name: &quot;Access placeholders in python filter&quot;
    locations: files
    filters:
      - extension: txt
      - regex: (?P&lt;firstname&gt;\w+)-(?P&lt;lastname&gt;\w+)\..*
      - python: |
          emails = {
              &quot;Betts&quot;: &quot;dbetts@mail.de&quot;,
              &quot;Cornish&quot;: &quot;acornish@google.com&quot;,
              &quot;Bean&quot;: &quot;dbean@aol.com&quot;,
              &quot;Frey&quot;: &quot;l-frey@frey.org&quot;,
          }
          if regex.lastname in emails: # get emails from wherever
              return {&quot;mail&quot;: emails[regex.lastname]}
    actions:
      - rename: &quot;{python.mail}.txt&quot;
</code></pre>
<p>Result:</p>
<ul>
<li><code>Devonte-Betts.txt</code> becomes <code>dbetts@mail.de.txt</code></li>
<li><code>Alaina-Cornish.txt</code> becomes <code>acornish@google.com.txt</code></li>
<li><code>Dimitri-Bean.txt</code> becomes <code>dbean@aol.com.txt</code></li>
<li><code>Lowri-Frey.txt</code> becomes <code>l-frey@frey.org.txt</code></li>
<li><code>Someunknown-User.txt</code> remains unchanged because the email is not found</li>
</ul>
<h2 id="regex">regex<a class="headerlink" href="#regex" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Matches filenames with the given regular expression</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>expr</strong> (<code>str</code>) – The regular expression to be matched.</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>      <p><strong>Returns:</strong></p>
<p>Any named groups in your regular expression will be returned like this:</p>
<ul>
<li><code>{regex.groupname}</code>: The text matched with the named
  group <code>(?P&lt;groupname&gt;.*)</code></li>
</ul>



    </div>

  </div>

<p><strong>Examples:</strong></p>
<p>Match an invoice with a regular expression:</p>
<pre><code class="language-yaml">rules:
  - locations: &quot;~/Desktop&quot;
    filters:
      - regex: '^RG(\d{12})-sig\.pdf$'
    actions:
      - move: &quot;~/Documents/Invoices/1und1/&quot;
</code></pre>
<p>Match and extract data from filenames with regex named groups:
This is just like the previous example but we rename the invoice using
the invoice number extracted via the regular expression and the named
group <code>the_number</code>.</p>
<pre><code class="language-yaml">rules:
  - locations: ~/Desktop
    filters:
      - regex: '^RG(?P&lt;the_number&gt;\d{12})-sig\.pdf$'
    actions:
      - move: ~/Documents/Invoices/1und1/{regex.the_number}.pdf
</code></pre>
<h2 id="size">size<a class="headerlink" href="#size" title="Permanent link">#</a></h2>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>Matches files and folders by size</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li><p><strong>*conditions</strong> (<code>list(str) or str</code>) – The size constraints.</p></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>      <p>Accepts file size conditions, e.g: <code>"&gt;= 500 MB"</code>, <code>"&lt; 20k"</code>, <code>"&gt;0"</code>,
<code>"= 10 KiB"</code>.</p>
<p>It is possible to define both lower and upper conditions like this:
<code>"&gt;20k, &lt; 1 TB"</code>, <code>"&gt;= 20 Mb, &lt;25 Mb"</code>. The filter will match if all given
conditions are satisfied.</p>
<ul>
<li>Accepts all units from KB to YB.</li>
<li>If no unit is given, kilobytes are assumend.</li>
<li>If binary prefix is given (KiB, GiB) the size is calculated using base 1024.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>{size.bytes}</code>: (int) Size in bytes</li>
<li><code>{size.traditional}</code>: (str) Size with unit (powers of 1024, JDEC prefixes)</li>
<li><code>{size.binary}</code>: (str) Size with unit (powers of 1024, IEC prefixes)</li>
<li><code>{size.decimal}</code>: (str) Size with unit (powers of 1000, SI prefixes)</li>
</ul>



    </div>

  </div>

<p><strong>Examples:</strong></p>
<p>Trash big downloads:</p>
<pre><code class="language-yaml">rules:
  - locations: &quot;~/Downloads&quot;
    targets: files
    filters:
      - size: &quot;&gt; 0.5 GB&quot;
    actions:
      - trash
</code></pre>
<p>Move all JPEGS bigger &gt; 1MB and &lt;10 MB. Search all subfolders and keep the
original relative path.</p>
<pre><code class="language-yaml">rules:
  - locations:
      - path: &quot;~/Pictures&quot;
        max_depth: null
    filters:
      - extension:
          - jpg
          - jpeg
      - size: &quot;&gt;1mb, &lt;10mb&quot;
    actions:
      - move: &quot;~/Pictures/sorted/{relative_path}/&quot;
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../locations/" class="btn btn-neutral float-left" title="Locations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../actions/" class="btn btn-neutral float-right" title="Actions">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/tfeldmann/organize/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../locations/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../actions/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
